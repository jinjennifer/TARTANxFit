{% extends "TxFApp/base.html" %}
{% block content %}

<!-- Display flash messages if there are any -->
{% include 'TxFApp/flash_message.html' %}

<h3> Admin Dashboard </h3>

<div class="row">
	<div class="col-xs-12">
		<h4>My Classes</h4>
	</div>
</div>

<div class="list-group">
	{% for class in classes %}
    {% with class.course.class_schedule as c %}
        <a href="/classes/{{ class.course.id }}/" class="list-group-item">
			<h4 class="list-group-item-heading"> {{c.class_type.name}} </h4>
			<div class="row">
			<p class="list-group-item-text col-xs-8"><i class="fa fa-calendar icon"></i> {{class.course.date}} <br>
			<i class="fa fa-clock-o icon"></i> {{c.start_time | time:'g:i a'}} - {{c.end_time | time:'g:i a'}} </p>
	    {% if class.course.has_occurred %}
	    <form class="list-group-item-text col-xs-4" action="/account" method="post">
	        <input name="class_id" type="hidden" value="{{rsvp.course.id}}"/>
			<input name="type" type="hidden" value="attended"/>
	            <button id="rsvpButton" type ="submit" class='btn btn-success'><i class="fa fa-check fa-lg"></i> I attended!</button>
	        {% csrf_token %}
	    </form>
	    {% else %} <!-- hasnt occured, option to cancel class -->
	        <button id="unrsvpButton" type="submit" class='btn btn-danger'><i class="fa fa-times fa-lg"></i> Cancel Class</button>
	    {% endif %}
	</div>
        </a>
    {% endwith %}
    {% empty %}
    	<p>You are currently not teaching any Group X classes. Add a new class below.</a></p>
    {% endfor %}
</div>

<br>

<button id="addClassButton" type="submit" class="btn btn-primary"><i class="fa fa-plus fa-lg"></i> Add New Class</button>

<div class="empty-placeholder">
</div>

{% endblock %}